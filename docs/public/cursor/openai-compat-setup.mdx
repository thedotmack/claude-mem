---
title: "Cursor + OpenAI-Compatible Setup"
description: "Use Claude-Mem in Cursor with any OpenAI-compatible API (OpenRouter, CLIProxyAPI, local models)"
---

# Cursor + OpenAI-Compatible Setup

This guide walks you through setting up Claude-Mem in Cursor using an OpenAI-compatible provider. This includes OpenRouter (100+ AI models), [CLIProxyAPI](https://gist.github.com/chandika/c4b64c5b8f5e29f6112021d46c159fdd), local model servers, and any other OpenAI-compatible endpoint.

<Info>
**Model variety:** Via OpenRouter, access Claude, GPT-4, Gemini, Llama, Mistral, and many more through a single API key. Or point to your own endpoint.
</Info>

## Step 1: Get an API Key

### For OpenRouter

1. Go to [OpenRouter](https://openrouter.ai)
2. Sign up or sign in
3. Navigate to [API Keys](https://openrouter.ai/keys)
4. Click **Create Key**
5. Copy your API key - you'll need it in Step 3

<Tip>
**Free models available:** OpenRouter offers free versions of several models including Gemini Flash and others. Check the [model list](https://openrouter.ai/models?show_free=true) for current free options.
</Tip>

### For Other Endpoints

Get an API key from your endpoint provider (CLIProxyAPI, local model server, etc.).

## Step 2: Clone and Build Claude-Mem

```bash
# Clone the repository
git clone https://github.com/thedotmack/claude-mem.git
cd claude-mem

# Install dependencies
npm install

# Build the project
npm run build
```

## Step 3: Configure OpenAI-Compatible Provider

### Option A: Interactive Setup (Recommended)

Run the setup wizard which guides you through everything:

```bash
npm run cursor:setup
```

When prompted for provider, select **OpenAI-Compatible**.

### Option B: Manual Configuration

Create the settings file manually:

```bash
# Create settings directory
mkdir -p ~/.claude-mem

# Create settings file with OpenAI-compatible configuration
cat > ~/.claude-mem/settings.json << 'EOF'
{
  "CLAUDE_MEM_PROVIDER": "openai-compat",
  "CLAUDE_MEM_OPENAI_COMPAT_API_KEY": "YOUR_API_KEY"
}
EOF
```

Replace `YOUR_API_KEY` with your actual API key.

For a custom endpoint (e.g., CLIProxyAPI):

```bash
cat > ~/.claude-mem/settings.json << 'EOF'
{
  "CLAUDE_MEM_PROVIDER": "openai-compat",
  "CLAUDE_MEM_OPENAI_COMPAT_API_KEY": "YOUR_API_KEY",
  "CLAUDE_MEM_OPENAI_COMPAT_BASE_URL": "http://localhost:8317/v1/chat/completions",
  "CLAUDE_MEM_OPENAI_COMPAT_MODEL": "claude-sonnet-4-5-20250514"
}
EOF
```

Then install hooks and start the worker:

```bash
npm run cursor:install
npm run worker:start
```

## Step 4: Restart Cursor

Close and reopen Cursor IDE for the hooks to take effect.

## Step 5: Verify Installation

```bash
# Check worker is running
npm run worker:status

# Check hooks are installed
npm run cursor:status
```

Open http://localhost:37777 to see the memory viewer.

## Recommended Models

### Free Models (via OpenRouter)

| Model | Provider | Notes |
|-------|----------|-------|
| `google/gemini-2.0-flash-exp:free` | Google | Fast, capable |
| `xiaomi/mimo-v2-flash:free` | Xiaomi | Good general purpose |

### Paid Models (Low Cost, via OpenRouter)

| Model | Approx. Cost | Notes |
|-------|--------------|-------|
| `anthropic/claude-3-haiku` | ~$0.25/1M tokens | Fast, efficient |
| `google/gemini-flash-1.5` | ~$0.075/1M tokens | Great value |
| `mistralai/mistral-7b-instruct` | ~$0.07/1M tokens | Budget option |

To specify a model, add to your settings:

```json
{
  "CLAUDE_MEM_PROVIDER": "openai-compat",
  "CLAUDE_MEM_OPENAI_COMPAT_API_KEY": "your-key",
  "CLAUDE_MEM_OPENAI_COMPAT_MODEL": "google/gemini-2.0-flash-exp:free"
}
```

## Cost Management

Cost depends on your endpoint. For OpenRouter:

1. **Use free models:** Several high-quality free models are available
2. **Monitor usage:** Check your [OpenRouter dashboard](https://openrouter.ai/activity)
3. **Set spending limits:** Configure limits in OpenRouter settings

<Warning>
**Cost awareness:** Paid models charge per request. Monitor your usage if using paid models.
</Warning>

## Troubleshooting

### "OpenAI-compatible API key not configured"

Ensure your settings file exists with the correct format:

```bash
cat ~/.claude-mem/settings.json
```

Should output something like:
```json
{
  "CLAUDE_MEM_PROVIDER": "openai-compat",
  "CLAUDE_MEM_OPENAI_COMPAT_API_KEY": "sk-or-..."
}
```

### Model not found

1. Check the model ID is correct at [OpenRouter Models](https://openrouter.ai/models)
2. Some models may require payment - check if you have credits
3. Free models have `:free` suffix in their ID

### Rate limits

Rate limits vary by model and your account tier. If you hit limits:
1. Wait briefly and retry
2. Consider upgrading your account tier
3. Switch to a less popular model

### API errors

Check the worker logs for details:

```bash
npm run worker:logs
```

Common issues:
- Invalid API key (regenerate at your provider)
- Insufficient credits for paid models
- Model temporarily unavailable

## Switching Providers Later

You can switch between OpenAI-compatible, Gemini, and Claude SDK at any time by updating your settings. No restart required - changes take effect on the next observation.

```json
{
  "CLAUDE_MEM_PROVIDER": "gemini"
}
```

## Next Steps

- [Cursor Integration Overview](/cursor/index) - All Cursor features
- [Gemini Setup](/cursor/gemini-setup) - Alternative free provider
- [Configuration Reference](../configuration) - All settings options
