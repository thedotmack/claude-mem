---
title: "Viewer UI"
description: "Web-based memory visualization and search interface"
---

# Viewer UI

The magic-claude-mem Viewer is a self-contained web interface that provides real-time visualization of your memory stream -- observations, summaries, and prompts flowing through the system as you work.

<Frame>
  <img src="/viewer-screenshot.png" alt="Magic-Claude-Mem Viewer UI" />
</Frame>

## Opening the Viewer

Navigate to [http://localhost:37777](http://localhost:37777) in any browser. The worker service must be running, which happens automatically on your first Claude Code session after installing magic-claude-mem.

The viewer is a single self-contained HTML page served directly by the worker service. No additional setup, build step, or dependencies are required.

## Feed Modes

The viewer operates in three distinct modes depending on how you interact with it.

### Live Feed (Default)

When you first open the viewer, it connects via **Server-Sent Events (SSE)** and streams observations, summaries, and prompts in real-time. New items appear at the top of the feed automatically as they are created during your Claude Code sessions.

### Project Filter

Click any project name in the project dropdown to filter the feed to that project only. The viewer stays in SSE mode, so new items for the selected project still appear live as they arrive. The same dropdown provides [project management actions](#project-management) (rename, merge, delete) via a kebab menu on each entry.

### Search/Filter Mode

When you enter a search query or activate any filter, the viewer switches from SSE to **paginated API results**. A result count badge appears showing how many items matched. This mode uses the same HTTP API that powers the MCP search tools.

## Search Bar

The search bar sits at the top of the page and provides full-text search across all stored observations.

- **Debounced input** -- Queries fire after a 300ms delay, so the viewer does not send a request on every keystroke.
- **Result count badge** -- Displays "N+" when additional results exist beyond the current page.
- **Clear button** -- The X button resets the search and returns to the live feed.
- **Loading spinner** -- Appears while a search request is in flight.

## Filter Bar

A collapsible filter panel sits below the search bar. Toggle it open to refine results with structured filters.

### Observation Type Chips

Multi-select filter chips for observation types:

| Chip | Description |
|------|-------------|
| `bugfix` | Bug fixes and error resolutions |
| `feature` | New feature implementations |
| `refactor` | Code restructuring and cleanup |
| `discovery` | Findings and insights |
| `decision` | Architectural and design decisions |
| `change` | General code changes |

### Priority Chips (v9.9.0+)

Multi-select filter chips for observation priority levels:

| Chip | Description |
|------|-------------|
| `critical` | Must-know information (architectural decisions, breaking changes) |
| `important` | Significant work (features, major refactors, key discoveries) |
| `informational` | Routine observations (default) |

Observations also display a **priority badge** on each card. Critical observations show a red badge, important observations show an orange badge. Informational observations hide the badge to reduce visual noise. The badge colors are colorblind-safe (from the Tol palette).

### Concept Chips

Multi-select filter chips from the concept vocabulary:

| Chip | Description |
|------|-------------|
| `how-it-works` | Implementation details and mechanics |
| `why-it-exists` | Rationale and motivation |
| `what-changed` | Diffs and modifications |
| `problem-solution` | Issue and resolution pairs |
| `gotcha` | Pitfalls and non-obvious behaviors |
| `pattern` | Reusable approaches and templates |
| `trade-off` | Competing concerns and compromises |

### Show (Item Kind)

A single-select filter for the kind of record to display:

- **Observations** -- Compressed memory records
- **Sessions** -- Session summaries
- **Prompts** -- User prompts captured during sessions

### Date Range

Start date and end date pickers to constrain results to a specific time window.

### Controls

- **Clear all** button resets every active filter at once.
- **Active filter count** badge on the filter toggle button shows how many filters are currently applied.

## Activity Bar (Timeline)

The activity bar renders a **90-day density chart** showing observation volume over time.

- Each day is represented by a vertical bar whose height is proportional to the number of observations recorded that day.
- **Click** a single day to filter the feed to that date.
- **Drag** across multiple days to select a date range.
- Hover over any bar to see a **tooltip** with the exact date and observation count.
- Uses a **colorblind-friendly palette** for accessibility.

## Theme Toggle

The viewer supports three appearance modes:

1. **Light** -- Light background, dark text
2. **Dark** -- Dark background, light text
3. **System** -- Follows your operating system preference

Click the theme toggle button to cycle through modes. The toggle uses **smart skip logic**: when your system preference matches the current explicit theme (for example, you are on Dark and your OS is also set to dark), clicking the toggle skips the redundant "System" option and goes straight to the next distinct appearance.

## Stale Session Management

The **ActiveSessionsBadge** in the header tracks all open Claude Code sessions and highlights those that have gone stale (no recent activity).

### Sessions Badge

A badge labeled **"Sessions: N"** appears in the header bar, where N is the total number of active sessions. When one or more sessions are stale, the badge switches to a warning style to draw attention.

Click the badge to open a dropdown listing every active session. Each entry shows:

- A **color dot** -- green for fresh sessions, amber for stale sessions.
- The **project name** (truncated for long paths).
- A **relative timestamp** showing when the session started ("2h ago", "3d ago", etc.).

### Closing Individual Sessions

Stale sessions display a **[Close]** button inline. Clicking it closes the session and, if the session produced observations, queues a summary generation. A status message appears at the bottom of the dropdown:

> "Summary generating..."

The message auto-clears after 3 seconds.

### Close All Stale

When stale sessions exist, a **"Close All Stale"** button appears at the bottom of the dropdown. It closes every stale session in one action and reports how many summaries were queued:

> "3 summaries generating..."

After closing, the badge refreshes automatically. The active sessions list polls the server periodically to stay current even when sessions end outside the viewer.

## Project Management

The project dropdown in the header now includes management actions for each project. Hover over any project in the dropdown to reveal a **kebab menu** (three-dot button) with three actions:

### Rename

Changes the project name across all associated records (observations, summaries, sessions, context injections, and prompts). Enter the new name in the dialog and click **Confirm**. If the renamed project was your active filter, the filter follows the new name automatically.

### Merge

Moves all data from one project into another. Select the target project from a dropdown of existing projects and click **Confirm**. The source project ceases to exist; all its observations, summaries, and prompts transfer to the target. If you were filtering by the source project, the filter switches to the target.

### Delete

Permanently removes all data for a project, including observations, summaries, sessions, context injections, and associated user prompts. To prevent accidental deletion, you must type the exact project name to confirm. The button is styled as a destructive action.

### Confirmation Dialog

All three actions open a confirmation dialog that shows a **row count summary** before you proceed:

| Row | Description |
|-----|-------------|
| Sessions | Number of SDK sessions |
| Observations | Number of stored observations |
| Summaries | Number of session summaries |
| Context Injections | Number of context injection records |

Errors during the action are displayed inline in the dialog without closing it, so you can retry or cancel.

## Token Analytics Dashboard

The analytics bar sits below the header and provides aggregate token usage metrics for the selected project.

### Metrics

| Metric | Description |
|--------|-------------|
| **Read** | Estimated token size of all stored observations -- the compressed knowledge footprint |
| **Work** | AI tokens invested in research, building, and decisions |
| **Recalled** | Tokens actually delivered into sessions via context injection (session start, prompt submit, and MCP search) |
| **Saved** | Net tokens saved by reusing compressed context instead of re-doing the original work. Calculated as Work minus Read minus Recalled. Shown as an absolute count and percentage |
| **Obs** | Observations recorded and distinct Claude sessions in the time range |

Each metric card shows a tooltip with a detailed explanation on hover or keyboard focus. Cards with positive savings highlight in green; cards with no data show a muted dash.

### Time Range

Button group filters analytics by time window:

- **7d** — Last 7 days
- **30d** — Last 30 days (default)
- **90d** — Last 90 days
- **All** — All time

### Auto-Refresh

The analytics bar polls the `/api/analytics` endpoint every 60 seconds. Polling pauses automatically when the browser tab is hidden and resumes with an immediate refresh when the tab regains visibility, keeping metrics current without wasting resources in the background.

## Infinite Scroll Pagination

The viewer loads items incrementally as you scroll:

- In **live feed mode**, older items load as you scroll down past the initial batch.
- In **search/filter mode**, additional result pages load automatically on scroll.
- **Skeleton cards** appear as placeholders while the next batch is fetching.
- A **"No more items"** indicator appears when you reach the end of available results.

## Next Steps

- [Memory Search](/usage/search-tools) -- MCP-based search tools for programmatic access
- [Configuration](/configuration) -- Customize context settings and behavior
- [Architecture Overview](/architecture/overview) -- Understand system components and data flow
