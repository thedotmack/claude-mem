[{"type":"text","text":"## Search Strategy: Use Existing Hybrid Search\n*Source: claude-mem://observation/7110*\n\n**Leverage already-implemented hybrid semantic and keyword search without reinventing search logic.**\n\nThe planning settles on the search strategy by leveraging existing infrastructure rather than building new search logic. The postmortem confirms that hybrid semantic and keyword search combining SQLite FTS5 full-text search with ChromaDB semantic search is already implemented and operational. For Phase 1, the strategy is simply to call the existing timeline search functionality with the user's prompt and let the established search infrastructure handle relevance ranking. This approach avoids reinventing the wheel and stays aligned with the simplicity principle - use what already exists and works rather than creating new search algorithms or relevance scoring systems.\n\n---\nType: decision | Facts: Postmortem confirms hybrid semantic + keyword search already implemented in system; Hybrid approach combines FTS5 full-text search and ChromaDB semantic search; Phase 1 strategy: call existing timeline search with user prompt directly; Existing search infrastructure handles relevance ranking automatically; Decision: avoid reinventing search logic by using what already exists | Concepts: how-it-works, pattern\n\n---\nDate: 11/11/2025, 7:09:54 PM\n\n---\n\n## Search Architecture: MCP Server as DRY Truth for Data Access\n*Source: claude-mem://observation/10558*\n\n**Search routes through search-server MCP file as single source of truth, enabling both skill-based and external data access.**\n\nThe search architecture uses a layered approach where the mem-search skill communicates with HTTP endpoints in the worker, which then route through the search-server file. This search-server file is implemented as an MCP (Model Context Protocol) server and serves as the single source of truth (DRY principle) for all search routing logic. This design decision allows the system to use MCP for external data access that extends beyond what the plugin \"skill\" can handle directly. By centralizing search logic in the MCP server, the architecture maintains flexibility to route searches to various backends while keeping the skill interface clean and the routing logic unified.\n\n---\nType: decision | Facts: mem-search skill hits HTTP endpoints in the worker for search functionality; HTTP endpoints route through search-server file which is the MCP search server; search-server file serves as DRY (Don't Repeat Yourself) search truth for all routing; MCP (Model Context Protocol) enables external data access beyond the plugin skill; Architecture separates skill interface from MCP server implementation for flexibility | Concepts: pattern, why-it-exists, how-it-works, trade-off\n\n---\nDate: 11/17/2025, 7:36:49 PM\n\n---\n\n## Plan Chroma Sync and Search Documentation Strategy\n*Source: claude-mem://observation/3312*\n\n**Organized documentation of sync architecture and Chroma integrations for user_prompts, search_sessions, search_user_prompts, and timeline context.**\n\nThe development session is planning comprehensive documentation for request sync improvements and semantic search capabilities. The effort focuses on creating a plan document that covers the architecture for syncing user_prompts data, integrating search_sessions and search_user_prompts with Chroma vector database, and documenting the timeline context tool. This planning stage establishes the structure for implementing semantic search across multiple data domains and ensuring consistent sync behavior for future sessions.\n\n---\nType: decision | Facts: Plan document creation initiated for Chroma sync improvements and search fixes.; Four documentation components identified: user_prompts sync architecture, search_sessions Chroma integration, search_user_prompts Chroma integration, timeline context tool.; Documentation scope covers request syncing and semantic search enhancements. | Concepts: why-it-exists, pattern\n\n---\nDate: 11/3/2025, 2:48:46 PM\n\n---\n\n## Architecture Guidelines for Search Established\n*Source: claude-mem://observation/10633*\n\n**Code review requested to verify commit follows MCP-based search architecture with specific DRY principles.**\n\nA commit review was requested to ensure compliance with established architecture guidelines for the search functionality. The architecture mandates that MCP (Model Context Protocol) acts as the single, authoritative search source following DRY principles. All HTTP API search requests must route through MCP rather than implementing parallel search logic. This architectural decision confirms that MCP is the active, non-deprecated component for search operations, establishing clear boundaries between API layers and preventing code duplication across the search infrastructure.\n\n---\nType: decision | Facts: MCP serves as the DRY (Don't Repeat Yourself) search source in the architecture; HTTP API is designed to route through MCP for search functionality; MCP is confirmed as not deprecated and remains the canonical search implementation | Concepts: pattern, why-it-exists, how-it-works\n\n---\nDate: 11/17/2025, 9:22:30 PM\n\n---\n\n## Search Architecture Guidelines Validation Requested\n*Source: claude-mem://observation/10621*\n\n**Commit review requested to verify adherence to search architecture: MCP as dry source, HTTP through MCP, MCP not deprecated.**\n\nA commit review was requested to ensure compliance with established search architecture guidelines. The architecture mandates that MCP (Model Context Protocol) functions as the canonical dry search source, with HTTP API endpoints routing through MCP rather than implementing search logic directly. This design decision maintains MCP as the active, non-deprecated integration layer for search functionality, ensuring consistency and avoiding duplication of search logic across different access methods.\n\n---\nType: decision | Facts: Architecture guideline: MCP serves as the dry search source; Architecture guideline: HTTP API routes search requests through MCP; Architecture guideline: MCP is not deprecated and remains the primary search integration layer | Concepts: why-it-exists, pattern, how-it-works\n\n---\nDate: 11/17/2025, 9:16:24 PM"}]